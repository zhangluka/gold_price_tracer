# æ¡Œé¢åº”ç”¨åˆé›†

ä¸€ä¸ªåŸºäº Electron æ„å»ºçš„æ¡Œé¢åº”ç”¨å·¥å…·é›†ï¼Œé›†æˆå¤šä¸ªå®ç”¨çš„æ¡Œé¢å°å·¥å…·ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### å·²é›†æˆåº”ç”¨

#### ğŸ’° é»„é‡‘ä»·æ ¼ç›‘æ§
- ç³»ç»Ÿæ‰˜ç›˜å®æ—¶æ˜¾ç¤ºé»„é‡‘ç°è´§ä»·æ ¼ï¼ˆÂ¥/å…‹ï¼‰
- ä»·æ ¼æ¶¨è·Œé—ªçƒæç¤ºï¼ˆçº¢æ¶¨ç»¿è·Œï¼‰
- è‡ªåŠ¨åˆ·æ–°ï¼ˆ60ç§’é—´éš”ï¼‰
- ä¼‘çœ è‡ªåŠ¨æš‚åœï¼Œæ¢å¤è‡ªåŠ¨åˆ·æ–°
- æ˜¾ç¤ºæœ€é«˜ä»·å’Œæœ€ä½ä»·

### ğŸ¯ è®¾è®¡ç†å¿µ

- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¯ä¸ªåº”ç”¨ç‹¬ç«‹å°è£…ï¼Œæ˜“äºæ‰©å±•
- **ç»Ÿä¸€ç®¡ç†**ï¼šé€šè¿‡å¯åŠ¨å™¨ç»Ÿä¸€ç®¡ç†æ‰€æœ‰åº”ç”¨
- **èµ„æºé«˜æ•ˆ**ï¼šæŒ‰éœ€å¯åŠ¨ï¼Œé™ä½ç³»ç»Ÿèµ„æºå ç”¨
- **ç”¨æˆ·å‹å¥½**ï¼šç°ä»£åŒ– UIï¼Œç®€æ´æ˜“ç”¨

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm start
```

### å¼€å‘æ¨¡å¼ï¼ˆå¸¦è°ƒè¯•ï¼‰

```bash
npm run dev
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
desktop_app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js                 # ä¸»è¿›ç¨‹å…¥å£
â”‚   â”œâ”€â”€ preload.js              # é¢„åŠ è½½è„šæœ¬
â”‚   â”œâ”€â”€ apps/                   # åº”ç”¨é›†åˆ
â”‚   â”‚   â”œâ”€â”€ index.js            # åº”ç”¨æ³¨å†Œä¸­å¿ƒ
â”‚   â”‚   â””â”€â”€ gold-monitor/       # é»„é‡‘ä»·æ ¼ç›‘æ§
â”‚   â”‚       â”œâ”€â”€ index.js        # åº”ç”¨ä¸»é€»è¾‘
â”‚   â”‚       â”œâ”€â”€ tray.js         # æ‰˜ç›˜ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ api.js          # API è°ƒç”¨
â”‚   â”‚       â””â”€â”€ config.js       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ common/                 # å…¬å…±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ logger.js           # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ constants.js        # å…¨å±€å¸¸é‡
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚       â””â”€â”€ format.js       # æ ¼å¼åŒ–å·¥å…·
â”‚   â”œâ”€â”€ ui/                     # UI ç•Œé¢
â”‚   â”‚   â””â”€â”€ launcher/           # å¯åŠ¨å™¨ç•Œé¢
â”‚   â”‚       â”œâ”€â”€ index.html      # ä¸»é¡µé¢
â”‚   â”‚       â”œâ”€â”€ style.css       # æ ·å¼
â”‚   â”‚       â””â”€â”€ renderer.js     # æ¸²æŸ“è¿›ç¨‹
â”‚   â””â”€â”€ assets/                 # é™æ€èµ„æº
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ“± æ‰“åŒ…å‘å¸ƒ

### æ‰“åŒ…æ‰€æœ‰å¹³å°

```bash
npm run dist
```

### æ‰“åŒ… macOS

```bash
npm run dist:mac
```

### æ‰“åŒ… Windows

```bash
npm run dist:win
```

### æ‰“åŒ… Linux

```bash
npm run dist:linux
```

æ‰“åŒ…å®Œæˆåï¼Œæ–‡ä»¶å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

## ğŸ¨ æ·»åŠ æ–°åº”ç”¨

### 1. åˆ›å»ºåº”ç”¨æ¨¡å—

åœ¨ `src/apps/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„åº”ç”¨æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `my-app/`ï¼š

```javascript
// src/apps/my-app/index.js
const Logger = require('../../common/logger');

class MyApp {
  constructor() {
    this.logger = new Logger('MyApp');
    this.isRunning = false;
  }

  async start() {
    this.logger.info('å¯åŠ¨åº”ç”¨...');
    // åº”ç”¨å¯åŠ¨é€»è¾‘
    this.isRunning = true;
  }

  stop() {
    this.logger.info('åœæ­¢åº”ç”¨...');
    // åº”ç”¨åœæ­¢é€»è¾‘
    this.isRunning = false;
  }

  getStatus() {
    return this.isRunning;
  }
}

module.exports = MyApp;
```

### 2. æ³¨å†Œåº”ç”¨

åœ¨ `src/apps/index.js` ä¸­æ³¨å†Œæ–°åº”ç”¨ï¼š

```javascript
const MyApp = require('./my-app');

const apps = [
  // ... å…¶ä»–åº”ç”¨
  {
    id: 'my-app',
    name: 'æˆ‘çš„åº”ç”¨',
    description: 'åº”ç”¨æè¿°',
    icon: 'ğŸ‰',
    type: 'tray', // æˆ– 'window'
    category: 'utility',
    instance: null,
    AppClass: MyApp,
  },
];
```

### 3. é‡å¯åº”ç”¨

```bash
npm start
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Electron 39**ï¼šè·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Node.js 20+**ï¼šåŸç”Ÿæ”¯æŒ `fetch` API
- **åŸç”Ÿ JavaScript**ï¼šæ— éœ€é¢å¤–å‰ç«¯æ¡†æ¶
- **CSS3**ï¼šç°ä»£åŒ–æ ·å¼è®¾è®¡

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- ä½¿ç”¨ ES6+ è¯­æ³•
- æ¨¡å—åŒ–è®¾è®¡ï¼Œå•ä¸€èŒè´£
- ç»Ÿä¸€ä½¿ç”¨ Logger è®°å½•æ—¥å¿—
- å®Œå–„çš„é”™è¯¯å¤„ç†

### åº”ç”¨æ¥å£è§„èŒƒ

æ¯ä¸ªåº”ç”¨ç±»å¿…é¡»å®ç°ä»¥ä¸‹æ–¹æ³•ï¼š

- `start()`: å¯åŠ¨åº”ç”¨
- `stop()`: åœæ­¢åº”ç”¨
- `getStatus()`: è·å–è¿è¡ŒçŠ¶æ€ï¼ˆè¿”å› booleanï¼‰

### åº”ç”¨ç±»å‹

- **tray**: æ‰˜ç›˜åº”ç”¨ï¼ˆå¦‚é»„é‡‘ä»·æ ¼ç›‘æ§ï¼‰
- **window**: çª—å£åº”ç”¨ï¼ˆå¾…æ‰©å±•ï¼‰

## ğŸ”§ é…ç½®è¯´æ˜

### é»„é‡‘ä»·æ ¼ç›‘æ§é…ç½®

ç¼–è¾‘ `src/apps/gold-monitor/config.js`ï¼š

```javascript
module.exports = {
  API_URL: 'https://m.cmbchina.com/api/rate/gold?no=AU9999',
  UPDATE_INTERVAL: 60 * 1000, // æ›´æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  BLINK_DURATION: 500,         // é—ªçƒæŒç»­æ—¶é—´
  BLINK_COUNT: 6,              // é—ªçƒæ¬¡æ•°
  TITLE_PREFIX: 'Au',          // æ‰˜ç›˜æ ‡é¢˜å‰ç¼€
  DECIMAL_PLACES: 2,           // å°æ•°ä½æ•°
};
```

## ğŸš€ æœªæ¥è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šå®ç”¨å·¥å…·åº”ç”¨
- [ ] æ”¯æŒåº”ç”¨é…ç½®ç•Œé¢
- [ ] æ·»åŠ è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
- [ ] æ”¯æŒä¸»é¢˜åˆ‡æ¢
- [ ] æ·»åŠ åº”ç”¨å•†åº—ï¼ˆå¯å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨ï¼‰
- [ ] ä¼˜åŒ–èµ„æºå ç”¨

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

ISC License

## ğŸ‘¤ ä½œè€…

Bobby (zhangluuka@gmail.com)

---

**äº«å—ä½ çš„æ¡Œé¢åº”ç”¨åˆé›†ï¼** ğŸ‰
